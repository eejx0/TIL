# JWT
> **Json Web Token**
> 

### 장점

<aside>
✅

**Stateless 인증 방식 제공**

---

- 서버가 사용자의 인증 상태를 별도로 저장할 필요 x
- 서버의 메모리나 데이터베이스 비용 줄이기 가능
- 인증 상태 관리에 대한 부담이 없어져 서버의 확장성 측면에서도 유리
- 설명
    
    ### **무상태성(Stateless)❓**
    
    > 서버가 클라이언트의 상태를 보존하지 않음을 의미 (클라이언트를 기억하지 않고 **요청에 대한 응답**만 줌)
    > 
    
    → stateful 상태면 서버가 클라이언트의 상태를 저장하고 있기 때문에 서버에서 장애가 나면 클라이언트가 작업을  처음부터 다시 해야하는 상황 발생
    
    → stateless 상태면 클라이언트가 상태를 저장하고 있어서 서버가 장애가 나도 괜찮음
    
</aside>

<aside>
✅

**토큰에 자체적으로 필요한 정보를 포함할 수 있음**

---

- 사용자 id, 권한 정보 등을 토큰 자체에 담을 수 있음
- 추가적인 데이터베이스 조회 없이 필요한 인증 관련 정보 얻을 수 있음
</aside>

<aside>
✅

**서명(Signature)을 포함해 데이터 무결성 보장 가능**

---

- 서버에서 발급한 JWT가 변경되었는지 검증할 수 있음
- 클라이언트가 임의로 내용을 조작하는 것 방지 가능
</aside>

### JWT를 서버에서 검증하는 절차

1. **토큰 파싱**
    
    서버가 수신한 JWT를 파싱해 헤더, 페이로드, 서명으로 분리
    
2. **서명 검증**
    
    서버가 헤더와 페이로드 비밀 키를 이용해 수신된 서명과 동일한 서명 생성
    
3. **유효성 검사**
    
    서버가 생성한 서명과 수신된 서명일 일치하는지 확인
    일치하지 않은 경우 유효하지 않은 토큰이거나 변조된 토큰일 수 있음
    
4. **추가 검증**
    
    선택적으로 서버가 토큰의 만료 시간, 발급자, 토큰 용도 등 추가적인 검증 수행 가능
    토큰의 신뢰성과 안정성을 높이기 위해..
    

### 단점

<aside>
🤔

**로그아웃을 강제할 수 없음**

---

- 액세스 토큰 상태는 서버에서 별도로 관리하지 않아 한번 발급된 토큰은 만료될 때까지 유효
- 서버에서 임의로 토큰을 무효화할 수 없고 다중 로그인 제한같은 기능도 구현이 어려움
</aside>

<aside>
🤔

**페이로드 크기로 인한 네트워크 부하가 발생할 수 있음**

---

- JWT는 사용자 정보를 포함해 일반적인 세션 id보다 용량이 큼
- 이에 따라 네트워크 비용 증가
</aside>
