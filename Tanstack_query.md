# tanstack-query에서 stale time, gc time의 차이점
<aside>
📌

둘다 **데이터를 캐싱하고 관리**하는 데 중요한 두 가지 설정

</aside>

- `stale time`: 데이터가 얼마나 오래 **신선한 상태로 유지**되는지를 정하는 시간
- `gc time`: 데이터가 오래된 상태가 된 이후에도 캐시에서 **얼마동안 유지**될지를 정하는 시간

### stale time

> 데이터를 처음 가져온 후에 **그 데이터를 신선한 상태로 간주하는 시간**
> 
- 이 기간 동안엔 같은 데이터에 대한 추가적인 네트워크 요청은 일어나지 않고 캐시에 저장된 데이터를 그대로 사용하게됨
- ex) stale time을 5분으로 설정하면❔
    
    → 데이터를 가져오고 나서 5분 동안은 이 데이터가 신선하다고 판단
    
    → 네트워크 요청 없이 캐시된 데이터를 계속 사용
    
- 기본 값은 0

### gc time

> 데이터가 오래된 상태가 된 이후에도 **캐시에 얼마동안 남아있을지 정하는 시간**
> 
- stale time이 지나면 데이터는 오래된 상태가 됨
- 이 때 gc time이 설정되어 있으면 지정된 시간 동안 여전히 캐시에서 그 데이터 유지
- ex) gc time을 10분으로 설정하면❔
    
    → 데이터가 stale 상태가 된 이후 10분 동안 캐시에 남아있다가 자동으로 삭제
    
- 기본 값은 5분

### 쉽게 말하면,,

`stale time`
: 데이터를 처음 가져온 후 얼마 동안 네트워크 요청 없이 캐시된 데이터를 사용할지를 정하는 시간

`gc time`
: 그 데이터가 오래된 상태가 된 후에도 캐시에 유지될 시간

⇒ 각각의 설정을 통해 데이터를 더 효율적으로 관리하고 불필요한 네트워크 요청을 줄이며 최신 데이터를 가져올 수 있도록 함
